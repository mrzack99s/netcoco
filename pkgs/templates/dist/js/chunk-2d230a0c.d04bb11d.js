(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230a0c"],{eca9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sui-tab",{attrs:{menu:{vertical:!0,fluid:!0},"menu-position":"left"}},[a("sui-tab-pane",{attrs:{title:"Interface Setting"}},[a("InterfaceSetting",{attrs:{device_id:e.$route.params.id}})],1),a("sui-tab-pane",{attrs:{title:"Commit Setting"}},[a("CommitSetting",{attrs:{device_id:e.$route.params.id}})],1)],1)},n=[],r=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sui-table",{attrs:{celled:""}},[a("sui-table-header",{attrs:{"full-width":""}},[a("sui-table-row",[a("sui-table-header-cell",{attrs:{colspan:"6"}},[a("sui-input",{attrs:{size:"small",placeholder:"Search",icon:"search"},model:{value:e.table.filter,callback:function(t){e.$set(e.table,"filter",t)},expression:"table.filter"}}),a("sui-button",{attrs:{floated:"right",size:"small",primary:"",labeled:""},on:{click:function(t){e.addModal=!0}}},[a("sui-icon",{attrs:{name:"microchip"}}),e._v(" Add interface ")],1)],1)],1),a("sui-table-row",[a("sui-table-header-cell",[e._v("Name")]),a("sui-table-header-cell",[e._v("Mode")]),a("sui-table-header-cell",[e._v("VLANs")]),a("sui-table-header-cell",[e._v("Native VLAN")]),a("sui-table-header-cell")],1)],1),a("sui-table-body",[e._l(e.tableFilter,(function(t,i){return a("sui-table-row",{key:t.id},[a("sui-table-cell",[e._v(e._s(t.interface_name))]),a("sui-table-cell",[e._v(e._s(t.edges.mode.interface_mode))]),a("sui-table-cell",[e._v(e._s(t.interface_vlan))]),a("sui-table-cell",[e._v(e._s(t.interface_native_vlan))]),a("sui-table-cell",{attrs:{collapsing:""}},[a("sui-icon",{attrs:{name:"edit",link:"",color:"yellow"},on:{click:function(t){return e.edit(i)}}}),a("sui-icon",{attrs:{name:"trash",link:"",color:"red"},on:{click:function(t){return e.deleteInterface(i)}}})],1)],1)})),e.haveInterface?e._e():a("sui-table-header-cell",{staticStyle:{padding:"3em"},attrs:{colspan:"6"}},[e._v(" Not have interface ")])],2),e.haveInterface?a("sui-table-footer",[a("sui-table-row",[a("sui-table-header-cell",{attrs:{colspan:"6"}},[a("sui-menu",{staticStyle:{"font-size":"10pt"},attrs:{pagination:""}},e._l(e.getPageNumber,(function(t){return a("span",{key:t},[a("sui-menu-item",{tag:"a",attrs:{color:"black"},on:{click:function(a){return e.changePagination(t)}}},[e._v(e._s(t))])],1)})),0)],1)],1)],1):e._e()],1),a("div",[a("sui-modal",{attrs:{closable:!1},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[a("sui-modal-header",[e._v("Add interface ")]),a("sui-modal-content",{attrs:{text:""}},[e.loader?a("sui-segment",[a("sui-dimmer",{attrs:{active:"",inverted:""}},[a("sui-loader",[e._v("Wait a few")])],1),a("br"),a("br"),a("br")],1):a("sui-form",{on:{submit:function(t){return t.preventDefault(),e.add(t)}}},[a("sui-divider",{staticStyle:{"margin-bottom":"2em"},attrs:{horizontal:""}},[a("sui-icon",{attrs:{size:"large",name:"info circle"}}),e._v(" Interface Information")],1),a("sui-form-field",[a("sui-form-fields",{attrs:{fields:"two"}},[a("sui-form-field",[a("label",[e._v("Interface Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addInterface.interface_name,expression:"addInterface.interface_name"}],attrs:{type:"text",placeholder:"Device Name",required:""},domProps:{value:e.addInterface.interface_name},on:{input:function(t){t.target.composing||e.$set(e.addInterface,"interface_name",t.target.value)}}})]),a("sui-form-field",[a("label",[e._v("Interface Mode")]),a("sui-dropdown",{attrs:{placeholder:"Interface Mode",required:"",selection:"",options:e.options},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}})],1)],1),a("sui-form-fields",{attrs:{fields:"two"}},[a("sui-form-field",[a("label",[e._v("VLANs")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addInterface.interface_vlan,expression:"addInterface.interface_vlan"}],attrs:{type:"text",placeholder:"VLANs example 1,2,3,4",required:""},domProps:{value:e.addInterface.interface_vlan},on:{input:function(t){t.target.composing||e.$set(e.addInterface,"interface_vlan",t.target.value)}}})]),a("sui-form-field",[a("label",[e._v("Native VLAN")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addInterface.interface_native_vlan,expression:"addInterface.interface_native_vlan"}],attrs:{type:"text",placeholder:"Native VLAN"},domProps:{value:e.addInterface.interface_native_vlan},on:{input:function(t){t.target.composing||e.$set(e.addInterface,"interface_native_vlan",t.target.value)}}})])],1)],1),a("sui-form-field",{staticStyle:{margin:"2em 0"}},[a("sui-button",{attrs:{positive:"",type:"submit"}},[e._v(" Add interface ")]),a("sui-button",{attrs:{type:"button"},on:{click:function(t){e.addModal=!1}}},[e._v(" close ")])],1)],1)],1)],1)],1),a("div",[a("sui-modal",{attrs:{closable:!1},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("sui-modal-header",[e._v("Edit devie id "+e._s(e.selectedInterface.id)+" ")]),a("sui-modal-content",{attrs:{text:""}},[e.loader?a("sui-segment",[a("sui-dimmer",{attrs:{active:"",inverted:""}},[a("sui-loader",[e._v("Wait a few")])],1),a("br"),a("br"),a("br")],1):a("sui-form",{on:{submit:function(t){return t.preventDefault(),e.update(t)}}},[a("sui-divider",{staticStyle:{"margin-bottom":"2em"},attrs:{horizontal:""}},[a("sui-icon",{attrs:{size:"large",name:"info circle"}}),e._v(" Interface Information")],1),a("sui-form-field",[a("sui-form-fields",{attrs:{fields:"two"}},[a("sui-form-field",[a("label",[e._v("Interface Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedInterface.interface_name,expression:"selectedInterface.interface_name"}],attrs:{type:"text",placeholder:"Device Name",disabled:""},domProps:{value:e.selectedInterface.interface_name},on:{input:function(t){t.target.composing||e.$set(e.selectedInterface,"interface_name",t.target.value)}}})]),a("sui-form-field",[a("label",[e._v("Interface Mode")]),a("sui-dropdown",{attrs:{placeholder:"Interface Mode",required:"",selection:"",options:e.options},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}})],1)],1),a("sui-form-fields",{attrs:{fields:"two"}},[a("sui-form-field",[a("label",[e._v("VLANs")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedInterface.interface_vlan,expression:"selectedInterface.interface_vlan"}],attrs:{type:"text",placeholder:"VLANs example 1,2,3,4",required:""},domProps:{value:e.selectedInterface.interface_vlan},on:{input:function(t){t.target.composing||e.$set(e.selectedInterface,"interface_vlan",t.target.value)}}})]),a("sui-form-field",[a("label",[e._v("Native VLAN")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedInterface.interface_native_vlan,expression:"selectedInterface.interface_native_vlan"}],attrs:{type:"text",placeholder:"Native VLAN"},domProps:{value:e.selectedInterface.interface_native_vlan},on:{input:function(t){t.target.composing||e.$set(e.selectedInterface,"interface_native_vlan",t.target.value)}}})])],1)],1),a("sui-form-field",{staticStyle:{margin:"2em 0"}},[a("sui-button",{attrs:{positive:"",type:"submit"}},[e._v(" Update interface ")]),a("sui-button",{attrs:{type:"button"},on:{click:function(t){e.editModal=!1}}},[e._v(" close ")])],1)],1)],1)],1)],1),a("div",[a("sui-modal",{attrs:{size:"mini",closable:!1},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("sui-modal-header",[e._v("Are you sure to delete?")]),a("sui-modal-content",{attrs:{text:""}},[e.loader?a("sui-segment",[a("sui-dimmer",{attrs:{active:"",inverted:""}},[a("sui-loader",[e._v("Wait a few")])],1),a("br"),a("br"),a("br")],1):a("div",[e._v(" Interface name: "),a("b",[e._v(e._s(e.selectedInterface.interface_name)+" ")]),a("br"),e._v(" Interface mode: "),a("b",[e._v(e._s(e.selectedInterface.edges.mode.interface_mode)+" ")]),e._v(" "),a("br"),e._v(" Interface VLANs: "),a("b",[e._v(e._s(e.selectedInterface.interface_vlan)+" ")]),a("br"),e._v(" Interface Native VLAN: "),a("b",[e._v(e._s(e.selectedInterface.interface_native_vlan)+" ")]),e._v(" "),a("br")])],1),e.loader?e._e():a("sui-modal-actions",[a("sui-button",{on:{click:function(t){e.deleteModal=!1}}},[e._v(" Cancel ")]),a("sui-button",{attrs:{negative:""},on:{click:function(t){return e.deleteInterfaceAction()}}},[e._v(" Delete ")])],1)],1)],1)],1)},s=[],o=r["a"].extend({props:{device_id:String},metaInfo:{title:"Device"},data:function(){return{table:{perPage:25,currentPagination:1,showTable:[],filter:""},allInterface:[],haveInterface:!1,loader:!1,deviceObj:{},allInterfaceMode:[],options:[],selectedOption:0,selectedInterface:{edges:{mode:{},on_device:{}}},addInterface:{edges:{mode:{},on_device:{}}},editModal:!1,addModal:!1,deleteModal:!1}},computed:{getPageNumber:function(){var e=this.table.showTable.length/this.table.perPage;return 0==Math.ceil(e)?1:Math.ceil(e)},tableFilter:function(){var e=this,t=this.allInterface.filter((function(t){var a=t.interface_name.toString().toLowerCase(),i=t.edges.mode.interface_mode.toString().toLowerCase(),n=e.table.filter.toLowerCase();return a.includes(n)||i.includes(n)})),a=(this.table.currentPagination-1)*this.table.perPage,i=(this.table.currentPagination+1)*this.table.perPage-1,n=t.slice(a,i);return this.table.showTable=t,this.haveInterface=t.length>0,n}},methods:{changePagination:function(e){this.table.currentPagination=e},getAllInterfaceMode:function(){var e=this;this.$api_connection.secureAPI().get("/net-interface-mode/get").then((function(t){e.allInterfaceMode=t.data,e.allInterfaceMode.forEach((function(t,a){e.options.push({text:t.interface_mode,value:a,type:t})}))}))},getallInterface:function(){var e=this;this.$api_connection.secureAPI().get("/device/get/"+this.device_id).then((function(t){e.deviceObj=t.data,e.allInterface=e.deviceObj.edges.interfaces,e.allInterface.length>0&&(e.haveInterface=!0)}))},edit:function(e){var t=this;this.selectedInterface=this.table.showTable[e];var a=this.options.findIndex((function(e){var a,i;return e.type.id==(null===(i=null===(a=t.selectedInterface.edges)||void 0===a?void 0:a.mode)||void 0===i?void 0:i.id)}));this.selectedOption=a,this.editModal=!0},deleteInterface:function(e){this.selectedInterface=this.table.showTable[e],this.deleteModal=!0},add:function(){var e=this,t=this.deviceObj;t.edges={},this.addInterface.edges.mode=this.options[this.selectedOption].type,this.addInterface.edges.on_device=t,this.loader=!0,this.$api_connection.secureAPI().post("/net-interface/create",this.addInterface).then((function(){e.$toasted.success("Add interface success"),e.getallInterface(),e.addModal=!1,e.addInterface={edges:{mode:{},on_device:{}}},e.loader=!1})).catch((function(){e.loader=!1,e.$toasted.error("Add interface failed!")}))},update:function(){var e=this;this.selectedInterface.edges.mode=this.options[this.selectedOption].type;var t=this.deviceObj;t.edges={},this.selectedInterface.edges.on_device=t,this.loader=!0,this.$api_connection.secureAPI().post("/net-interface/edit",this.selectedInterface).then((function(){e.$toasted.success("Update interface information success"),e.getallInterface(),e.editModal=!1,e.loader=!1}))},deleteInterfaceAction:function(){var e=this;this.loader=!0,this.$api_connection.secureAPI().delete("/net-interface/delete/"+this.selectedInterface.id).then((function(){e.$toasted.success("Delete interface success"),e.getallInterface(),e.deleteModal=!1,e.loader=!1})).catch((function(){e.$toasted.error("Delete interface failed!"),e.loader=!1}))}},mounted:function(){this.getallInterface(),this.getAllInterfaceMode()}}),c=o,d=a("2877"),u=Object(d["a"])(c,l,s,!1,null,null,null),f=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"ui card",staticStyle:{width:"100%",height:"300px","padding-top":"2em"}},[a("div",{staticClass:"content"},[a("h2",{staticClass:"center aligned ui header"},[e._v("Commit your configuration")]),a("div",{staticClass:"center aligned description"},[a("sui-button",{staticStyle:{"margin-top":"1em"},attrs:{primary:"",type:"button",size:"massive"},on:{click:function(t){e.commitModal=!0}}},[e._v("Commit")])],1)])]),a("sui-modal",{attrs:{size:"mini",closable:!1},model:{value:e.commitModal,callback:function(t){e.commitModal=t},expression:"commitModal"}},[a("sui-modal-content",{attrs:{text:""}},[e.loader?a("sui-segment",[a("sui-dimmer",{attrs:{active:"",inverted:""}},[a("sui-loader",[e._v("Wait a few")])],1),a("br"),a("br"),a("br")],1):a("h1",[e._v(" Are you sure to commit? ")])],1),e.loader?e._e():a("sui-modal-actions",[a("sui-button",{on:{click:function(t){e.commitModal=!1}}},[e._v(" Cancel ")]),a("sui-button",{attrs:{positive:""},on:{click:function(t){return e.commitAction()}}},[e._v(" Commit ")])],1)],1)],1)},v=[],p=r["a"].extend({data:function(){return{loader:!1,commitModal:!1}}}),_=p,b=Object(d["a"])(_,m,v,!1,null,null,null),h=b.exports,g=r["a"].extend({components:{InterfaceSetting:f,CommitSetting:h}}),I=g,M=Object(d["a"])(I,i,n,!1,null,null,null);t["default"]=M.exports}}]);
//# sourceMappingURL=chunk-2d230a0c.d04bb11d.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cca737a"],{4601:function(e,o,t){"use strict";t.r(o);var i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("sui-tab",{attrs:{menu:{vertical:!0,fluid:!0},"menu-position":"left"}},[t("sui-tab-pane",{attrs:{title:"Topology"}},[t("Topology",{attrs:{height:"550px"}})],1)],1)},n=[],l=t("2b0e"),a=t("652e"),s=l["a"].extend({components:{Topology:a["a"]},metaInfo:{title:"Dashboard"},data:function(){return{current:null,options:[{text:"Male",value:1},{text:"Female",value:2}]}}}),d=s,c=t("2877"),r=Object(c["a"])(d,i,n,!1,null,null,null);o["default"]=r.exports},"652e":function(e,o,t){"use strict";var i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[e.haveTopology?t("div",[t("sui-grid",{staticStyle:{"padding-top":"1em"},attrs:{divided:"vertically"}},[t("sui-grid-row",{attrs:{columns:2}},[t("sui-grid-column",[t("h3",{staticClass:"ui header"},[e._v("Topology name: "+e._s(e.getTopologyName))]),"/topology-fullscreen"!=e.$route.path?t("router-link",{attrs:{to:"/topology-fullscreen"}},[t("sui-button",{attrs:{primary:"",size:"mini"}},[t("sui-icon",{attrs:{name:"desktop"}}),e._v("Full screen")],1)],1):t("router-link",{attrs:{to:"/dashboard"}},[t("sui-button",{attrs:{primary:"",size:"mini"}},[t("sui-icon",{attrs:{name:"home"}}),e._v("Back to dashboard")],1)],1)],1),t("sui-grid-column",[t("sui-form",[t("sui-form-field",[t("label",[e._v("Topology")]),t("sui-dropdown",{attrs:{placeholder:"Topology Name",selection:"",search:"",options:e.allTopology},model:{value:e.selectedTopoElement.value,callback:function(o){e.$set(e.selectedTopoElement,"value",o)},expression:"selectedTopoElement.value"}})],1)],1)],1)],1)],1),t("sui-card",{staticStyle:{width:"100%"}},[t("sui-card-content",[t("div",{ref:"topo",style:{height:e.$props.height},attrs:{id:"topo"}})])],1)],1):t("div",[t("div",{staticClass:"ui card",staticStyle:{width:"100%",height:"300px","padding-top":"2em"}},[t("div",{staticClass:"content"},[t("h2",{staticClass:"center aligned ui header"},[e._v("Not have a topology")]),t("div",{staticClass:"center aligned description"},[t("p",[e._v("Please add your topology")]),t("router-link",{attrs:{to:"/topology"}},[t("sui-button",{staticStyle:{"margin-top":"1em"},attrs:{primary:"",type:"button",size:"small"}},[e._v("Create topology")])],1)],1)])])])])},n=[],l=t("2b0e"),a=t("087a"),s=(t("1faf"),l["a"].extend({components:{},props:{height:String},data:function(){return{selectedTopoElement:{},allTopology:[],allDevice:[],haveTopology:!1,deviceSetting:{modal:!1,device_id:0},topology:{name:null,selected:{},nodeData:[],edgesData:[],groupNode:{},options:{},network:{}}}},computed:{getTopologyName:function(){var e=this.selectedTopoElement;return e.text}},methods:{getAllTopology:function(){var e=this;this.$api_connection.secureAPI().get("/topology/get").then((function(o){var t=o.data,i=!1;t.length>0&&(t.forEach((function(o){e.allTopology.push({text:o.topology_name,value:o.id}),o.default&&(i=!0)})),t.forEach((function(o,t){(i&&o.default||!i&&0==t)&&(e.selectedTopoElement={text:o.topology_name,value:o.id})})),e.haveTopology=!0,e.getTopology())}))},checkEdgeDuplicate:function(e,o){for(var t=0;t<this.topology.edgesData.length;t++){var i=this.topology.edgesData[t];if(i.from==o&&i.to==e)return!0}return!1},checkCanBeSetting:function(e){return"l3switch"==e||"l2switch"==e},getTopology:function(){var e=this;this.$api_connection.secureAPI().get("/device-type/get").then((function(o){var i=o.data,n=e.topology.groupNode;i.forEach((function(e){n[e.device_type_name]={shape:"image",image:t("e078")("./"+e.device_type_name+".png"),size:25}})),e.topology.groupNode={},e.topology.groupNode=n})),this.$api_connection.secureAPI().get("/topology/get/"+this.selectedTopoElement.value).then((function(o){var t,i,n,l,s=o.data;(null===(i=null===(t=s.edges)||void 0===t?void 0:t.topology)||void 0===i?void 0:i.length)&&(e.topology.nodeData.length=0,e.allDevice.length=0,null===(l=null===(n=s.edges)||void 0===n?void 0:n.topology)||void 0===l||l.forEach((function(o,t){var i,n={id:o.id,label:o.edges.device.device_name,title:"DeviceName: "+o.edges.device.device_name+"\n                        Hostname: "+o.edges.device.device_hostname+"\n\n                        "+(e.checkCanBeSetting(o.edges.device.edges.in_type.device_type_name)?"Can be setting":"Cannot be setting")+"\n                        ",group:o.edges.device.edges.in_type.device_type_name,name:o.edges.device.device_name,value:o.edges.device.id,x:null==o.position_x?0:o.position_x,y:null==o.position_y?0:o.position_y,fixed:!0};e.topology.nodeData.push(n),e.allDevice.push(null===(i=o.edges)||void 0===i?void 0:i.device)})),e.topology.edgesData.length=0,s.edges.topology.forEach((function(o){var t,i;null!=o&&(null===(i=null===(t=o.edges)||void 0===t?void 0:t.edge)||void 0===i||i.forEach((function(t){if(o.id!=t.id&&!e.checkEdgeDuplicate(o.id,t.id)){var i={from:o.id,to:t.id};e.topology.edgesData.push(i)}})))})),e.topology.options={physics:!0,interaction:{hover:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,zoomView:!0},groups:e.topology.groupNode},e.topology.network=new a["Network"](e.$refs.topo,{nodes:e.topology.nodeData,edges:e.topology.edgesData},e.topology.options),e.topology.network.on("click",(function(o){var t=e.topology.nodeData.find((function(e){return e.id==o.nodes[0]}));e.checkCanBeSetting(null===t||void 0===t?void 0:t.group)&&e.$router.push("/device-setting/"+t.value)})))}))},clearTopology:function(){this.topology.network.destroy()}},mounted:function(){var e=this;this.getAllTopology(),setInterval((function(){0!=e.topology.nodeData.length&&e.clearTopology(),e.getTopology()}),45e3)}})),d=s,c=t("2877"),r=Object(c["a"])(d,i,n,!1,null,null,null);o["a"]=r.exports}}]);
//# sourceMappingURL=chunk-6cca737a.670780ca.js.map